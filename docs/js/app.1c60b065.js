(function(t){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],h=0,d=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,o=1;o<i.length;o++){var l=i[o];0!==n[l]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var a={},n={app:0},r=[];function s(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"032c":function(t,e,i){},"034f":function(t,e,i){"use strict";var a=i("85ec"),n=i.n(a);n.a},"03a4":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),i("div",{staticClass:"demo-body"},[i("div",{staticClass:"demo-item",on:{click:function(e){return t.demoClick("single")}}},[i("div",{staticClass:"col"},[t._v("单列选择")]),i("div",{staticClass:"col right"},[t._v(t._s("戳我"===t.singleValue?t.singleValue:t.singleValue[0]))])]),i("div",{staticClass:"demo-item",on:{click:function(e){return t.demoClick("muli")}}},[i("div",{staticClass:"col"},[t._v("多列选择")]),i("div",{staticClass:"col right"},[t._v(t._s(t.muliValue))])]),i("div",{staticClass:"demo-item",on:{click:function(e){return t.demoClick("muliObj")}}},[i("div",{staticClass:"col"},[t._v("多列(含对象)选择")]),i("div",{staticClass:"col right"},[t._v(t._s(t.muliObjValue))])]),i("div",{staticClass:"demo-item",on:{click:function(e){return t.demoClick("date")}}},[i("div",{staticClass:"col"},[t._v("时间选择")]),i("div",{staticClass:"col right"},[t._v(t._s(t.dateValue))])]),i("div",{staticClass:"demo-item",on:{click:function(e){return t.demoClick("singleRed")}}},[i("div",{staticClass:"col"},[t._v("选择按钮换成红色")]),i("div",{staticClass:"col right"},[t._v(t._s("戳我"===t.singleRedValue?t.singleRedValue:t.singleRedValue[0]))])])])])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"demo-header row align-center"},[i("div",{staticClass:"col"},[t._v("Wheel Picker Demo")])])}],s={name:"app",data:function(){return{singleList:["1","2","3","4","5"],singleValue:"戳我",muliList:[["1","2","3","4","5"],["3","2","1"]],muliValue:"戳我",muliObjList:[[{fruit:"orange"},{fruit:"banana"}],[{animal:"dog"},{animal:"cat"}]],muliObjValue:"戳我",dateValue:"2019-11-05",singleRedValue:"戳我"}},methods:{demoClick:function(t){var e=this,i="date",a={mode:i,cb:function(i){console.log("value",i),e[t+"Value"]=i}};"date"!==t?(a.mode="picker",a.listData="singleRed"===t?this.singleList:this[t+"List"],a.listValue=this[t+"Value"],"muli"!==t&&"muliObj"!==t||(a.colLen=this.muliList.length),"muliObj"===t&&(a.rowKeys=["fruit","animal"]),"singleRed"===t&&(a.confirmColor="red")):a.dateValue=this.dateValue,this.$wheelPicker.show(a)}}},o=s,l=(i("034f"),i("2877")),c=Object(l["a"])(o,n,r,!1,null,null,null),u=c.exports,h=(i("d81d"),i("b64b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p-container",{on:{hide:t.containerHide},model:{value:t.pickerShow,callback:function(e){t.pickerShow=e},expression:"pickerShow"}},[i("btn-group",{attrs:{confirmText:t.confirmText,cancelText:t.cancelText,confirmColor:t.confirmColor,cancelColor:t.cancelColor,bottomColor:t.bottomColor},on:{click:t.containerHide}}),t.pickerShow?i("div",{staticClass:"row"},t._l(t.localList,(function(e,a){return i("div",{key:a,staticClass:"col"},[i("w-item",{attrs:{listData:e},model:{value:t.localValue[a],callback:function(e){t.$set(t.localValue,a,e)},expression:"localValue[idx]"}})],1)})),0):t._e()],1)}),d=[],f=(i("a9e3"),i("bf2d")),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.containerShow?i("div",{staticClass:"wheel-picker-container"},[i("div",{staticClass:"mask"}),i("div",{staticClass:"box",on:{click:t.clickMask}},[i("transition",{attrs:{name:"picker-modal"}},[t.modalShow?i("div",{staticClass:"bottom-wrap"},[t._t("default")],2):t._e()])],1)]):t._e()},m=[],v={props:{value:{type:Boolean,default:!1}},data:function(){return{modalShow:!1,containerShow:!1,toModal:null,toContainerHide:null}},beforeMount:function(){var t=this;this.clearTo(),this.containerShow=this.value,this.containerShow&&(this.toModal=setTimeout((function(){t.modalShow=!0}),50))},watch:{value:function(t){this.clearTo();var e=this;t?(this.containerShow=t,this.toModal=setTimeout((function(){e.modalShow=!0}),50)):(e.modalShow=!1,e.toContainerHide=setTimeout((function(){e.containerShow=!1}),500))}},beforeDestroy:function(){this.clearTo()},methods:{clickMask:function(){console.log("click mask"),this.$emit("hide")},clearTo:function(){this.toModal&&clearTimeout(this.toModal),this.toContainerHide&&clearTimeout(this.toContainerHide)}}},g=v,y=(i("a416"),Object(l["a"])(g,p,m,!1,null,"37e2045c",null)),b=y.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row picker-toolbar align-center",style:{borderBottomColor:t.bottomColor}},[i("div",{staticClass:"col"},[i("div",{staticClass:"btn cancel",style:{color:t.cancelColor},on:{click:function(e){return t.btnHandle(e,"cancel")}}},[t._v(t._s(t.cancelText))])]),i("div",{staticClass:"col btn confirm",style:{color:t.confirmColor,borderColor:t.confirmColor},on:{click:function(e){return t.btnHandle(e,"confirm")}}},[t._v(t._s(t.confirmText))])])},w=[],V={props:{confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},confirmColor:{type:String,default:"#3db0fc"},cancelColor:{type:String,default:"#888"},bottomColor:{type:String,default:"#ddd"}},beforeMount:function(){this.initConfirmBtnStyle()},methods:{btnHandle:function(t,e){t.stopPropagation(),this.$emit("click",e)},initConfirmBtnStyle:function(){var t=document.getElementById("pickerBtnActive");t&&t.remove();var e=document.createElement("style");e.id="pickerBtnActive";var i=".picker-toolbar .btn.confirm:active { background: "+this.confirmColor+" !important; }";document.body.appendChild(e),e.type="text/css",e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}}},S=V,C=Object(l["a"])(S,k,w,!1,null,null,null),D=C.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wheel-item-container"},[i("div",{staticClass:"wheel-item-line"}),i("div",{staticClass:"wheel-item-list"},[i("div",{ref:"list"},t._l(t.renderData,(function(e,a){return i("div",{key:a,staticClass:"list-block"},[t._v(t._s(e.value))])})),0)]),i("div",{ref:"wheel",staticClass:"wheel-item"},t._l(t.renderData,(function(e,a){return i("div",{key:a,staticClass:"list-block",class:{hidden:t.setHidden(e.index)},style:t.setWheelItemDeg(e.index)},[t._v(t._s(e.value))])})),0)])},T=[],x=(i("c975"),i("0d03"),{props:{listData:{type:Array,required:!0},type:{type:String,default:"line"},value:{},dataType:{type:String,default:"String"}},data:function(){return{finger:{startY:0,lastY:0,startTime:0,lastTime:0,translateY:0},spin:{start:-9,end:9,branch:9}}},computed:{renderData:function(){for(var t=[],e=this.spin.start;e<=this.spin.end;e++){var i={value:this.getSpinData(e),index:e};t.push(i)}return t}},watch:{listData:{handler:function(t){"number"===this.dataType?this.autoUpdate():this.autoUpdate(t)},deep:!0}},mounted:function(){this.$el.addEventListener("touchstart",this.itemTouchStart),this.$el.addEventListener("touchmove",this.itemTouchMove),this.$el.addEventListener("touchend",this.itemTouchEnd),this.autoUpdate(this.value)},beforeDestroy:function(){this.$el.removeEventListener("touchstart",this.itemTouchStart),this.$el.removeEventListener("touchmove",this.itemTouchMove),this.$el.removeEventListener("touchend",this.itemTouchEnd)},methods:{autoUpdate:function(t){if(t){if(this.listData.length>0){var e=this.listData.indexOf(t);if(-1===e)console.warn("当前初始值不存在，请检查后listData范围！！"),this.setListTransform(),this.getPickValue(0);else{var i=34*e;this.setStyle(-i),this.setListTransform(-i,-i),this.getPickValue(i)}}}else if(this.listData.length<Number(this.value)&&"number"===this.dataType){var a=34*this.listData.length;this.setStyle(-a),this.setListTransform(-a,-a),this.$emit("input",this.listData[this.listData.length-1])}},setHidden:function(t){return"line"===this.type&&(t<0||t>this.listData.length-1)},setWheelItemDeg:function(t){return{transform:"rotate3d(1, 0, 0, ".concat(20*-t%360,"deg) translate3d(0px, 0px, 100px)")}},setWheelDeg:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;"end"===e?(this.$refs.wheel.style.webkitTransition="transform ".concat(i,"ms cubic-bezier(0.19, 1, 0.22, 1)"),this.$refs.wheel.style.webkitTransform="rotate3d(1, 0, 0, ".concat(t,"deg)")):(this.$refs.wheel.style.webkitTransition="",this.$refs.wheel.style.webkitTransform="rotate3d(1, 0, 0, ".concat(t,"deg)"))},setListTransform:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;"end"===i?(this.$refs.list.style.webkitTransition="transform ".concat(a,"ms cubic-bezier(0.19, 1, 0.22, 1)"),this.$refs.list.style.webkitTransform="translateY(".concat(t-34*this.spin.branch,"px)"),this.$refs.list.style.marginTop="".concat(-e,"px"),this.$refs.list.setAttribute("scroll",t)):(this.$refs.list.style.webkitTransition="",this.$refs.list.style.webkitTransform="translateY(".concat(t-34*this.spin.branch,"px)"),this.$refs.list.style.marginTop="".concat(-e,"px"),this.$refs.list.setAttribute("scroll",t))},itemTouchStart:function(t){var e=t.changedTouches[0];this.finger.startY=e.pageY,this.finger.startTime=t.timestamp||Date.now(),this.finger.transformY=this.$refs.list.getAttribute("scroll"),t.preventDefault()},itemTouchMove:function(t){var e=t.changedTouches[0];this.finger.lastY=e.pageY,this.finger.lastTime=t.timestamp||Date.now();var i=this.finger.lastY-this.finger.startY;this.setStyle(i),t.preventDefault()},itemTouchEnd:function(t){var e=t.changedTouches[0];this.finger.lastY=e.pageY,this.finger.lastTime=t.timestamp||Date.now();var i=this.finger.lastY-this.finger.startY,a=this.finger.lastTime-this.finger.startTime,n=i/a,r=1.8;a<=300?(i=n*r*a,a=1e3+a*r,this.setStyle(i,"end",a)):this.setStyle(i,"end")},setStyle:function(t,e,i){var a=this,n=34,r=20,s=r/n,o=this.finger.transformY||0,l=t+Number(o);"line"===this.type&&(l>0&&(l=0),l<-(this.listData.length-1)*n&&(l=-(this.listData.length-1)*n));var c=-l*s,u=Math.round(c/20),h=Math.round(l/n)*n,d=h,f=Math.round(c/r)*r;"end"===e?(this.setListTransform(d,h,e,i),this.setWheelDeg(f,e,i),setTimeout((function(){return a.getPickValue(d)}),500)):(this.setListTransform(l,h),this.setWheelDeg(c)),this.updateSpin(u)},updateSpin:function(t){this.spin.start=-1*this.spin.branch+t,this.spin.end=this.spin.start+2*this.spin.branch},getSpinData:function(t){return t%=this.listData.length,this.listData[t>=0?t:t+this.listData.length]},getPickValue:function(t){var e=Math.abs(t/34),i=this.getSpinData(e);this.$emit("input",i)}}}),L=x,$=(i("ebf2"),Object(l["a"])(L,_,T,!1,null,"400f0ebd",null)),A=$.exports,Y={name:"wheel-picker",props:{value:{type:null,default:!1},listValue:{type:null,default:!1},listData:{type:Array,required:!0},rowKeys:{type:Array,default:null},colLen:{type:Number,default:1},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},confirmColor:{type:String,default:"#3db0fc"},cancelColor:{type:String,default:"#888"},bottomColor:{type:String,default:"#ddd"}},data:function(){return{localList:[],localValue:[],pickerShow:!1}},beforeMount:function(){if(console.log("index color:>>"+this.confirmColor),this.colLen>1&&this.colLen!==this.listData.length)console.error("length of colLen is not the same of length of listData!!!");else if(this.rowKeys&&0===this.rowKeys.length)console.error("rowObject is true, rowKey must a string value!!!");else{if(this.listValue)"string"===typeof this.listValue&&(this.localValue=[this.listValue]),"object"===Object(f["a"])(this.listValue)&&(this.localValue=this.listValue);else if(1===this.colLen)this.localValue=[this.rowKeys?this.listData[0][this.rowKeys[0]]:this.listData[0]];else{this.localValue=[];for(var t=0;t<this.colLen;t++){var e=this.rowKeys?this.listData[t][0][this.rowKeys[t]]:this.listData[t][0];this.localValue.push(e)}}this.value&&(this.pickerShow=this.value),this.pickerShow&&this.initData(this.listData)}},watch:{value:function(t){this.pickerShow=t,t&&this.initData(this.listData)}},components:{pContainer:b,wItem:A,btnGroup:D},methods:{initData:function(t){var e=this;try{if(this.localList=[],1===this.colLen)if(this.rowKeys){var i=t.map((function(t){return t[e.rowKeys[0]]}));this.localList=[i]}else this.localList=[t];else for(var a=function(i){var a=t[i];e.rowKeys&&(a=[],t[i].map((function(t){a.push(t[e.rowKeys[i]])}))),e.localList.push(a)},n=0;n<this.colLen;n++)a(n)}catch(r){console.error(r)}},getRowValue:function(t,e){return this.rowObject?t[this.rowKeys[e]]:t},containerHide:function(){this.pickerShow=!1,this.$emit("input",this.pickerShow),this.$emit("change",this.localValue)}}},M=Y,O=Object(l["a"])(M,h,d,!1,null,null,null),j=O.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p-container",{on:{hide:t.containerHide},model:{value:t.dateShow,callback:function(e){t.dateShow=e},expression:"dateShow"}},[i("btn-group",{on:{click:t.containerHide}}),t.dateShow?i("div",{staticClass:"row"},t._l(t.localList,(function(e,a){return i("div",{key:a,staticClass:"col"},[i("w-item",{ref:"pi"+a,refInFor:!0,attrs:{listData:e,dataType:"number"},model:{value:t.localValue[a],callback:function(e){t.$set(t.localValue,a,e)},expression:"localValue[idx]"}})],1)})),0):t._e()],1)},H=[],P=(i("99af"),i("a630"),i("caad"),i("a15b"),i("d3b7"),i("ac1f"),i("25f0"),i("3ca3"),i("1276"),{props:{value:{type:null,default:!1},dateValue:{type:null,default:!1},separator:{type:String,default:"-"},yearCount:{type:Number,default:15},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},confirmColor:{type:String,default:"#3db0fc"},cancelColor:{type:String,default:"#888"},bottomColor:{type:String,default:"#ddd"}},components:{pContainer:b,wItem:A,btnGroup:D},data:function(){return{localList:[],localValue:[],pickerYearVal:"",pickerMonthVal:"",dateShow:!1,currentDate:new Date,monthArr:["01","02","03","04","05","06","07","08","09","10","11","12"]}},beforeMount:function(){this.initDate(),this.$nextTick((function(){this.value&&(this.dateShow=this.value)}))},watch:{localValue:{handler:function(t){this.pickerYearVal=t[0],this.pickerMonthVal=t[1]},deep:!0},pickerYearVal:function(t){"02"===this.pickerMonthVal&&(this.localList[2]=this.getDayArray(t,this.pickerMonthVal))},pickerMonthVal:function(t){this.localList[2]=this.getDayArray(this.pickerYearVal,t)},value:function(t){this.dateShow=t},dateValue:function(t){this.localValue=t.split(this.separator)}},methods:{containerHide:function(t){this.dateShow=!1,this.$emit("input",this.dateShow),t&&"confirm"===t&&this.$emit("change",this.localValue.join(this.separator))},initDate:function(){this.yearArr=this.getYearArray(),this.pickerYearVal="".concat(this.currentDate.getFullYear());var t="".concat(this.currentDate.getMonth()+1),e="".concat(this.currentDate.getDate());Number(e)<10&&(e="0".concat(e)),this.dayArr=this.getDayArray(this.currentYear,t),this.localList=[this.yearArr,this.monthArr,this.getDayArray(this.pickerYearVal,"01")],this.dateValue?(this.localValue=this.dateValue.split(this.separator),this.pickerYearVal=this.localValue[0],this.pickerMonthVal=this.localValue[1]):this.localValue=[this.pickerYearVal,t,e]},getDayArray:function(t,e){return"02"===e?this.isLeapYear(t)?this.autoGeneratorDateStrArray(29):this.autoGeneratorDateStrArray(28):["01","03","05","07","08","10","12"].includes(e)?this.autoGeneratorDateStrArray(31):this.autoGeneratorDateStrArray(30)},isLeapYear:function(t){return t%4===0&&t%100>0||t%400===0},getYearArray:function(){var t=this.currentDate.getFullYear()-this.yearCount;return this.autoGeneratorArray(2*this.yearCount,t)},autoGeneratorDateStrArray:function(t){return Array.from({length:t},(function(t,e){var i=e+1;return i<10?"0".concat(i):"".concat(i)}))},autoGeneratorArray:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===e?Array.from({length:t},(function(t,e){return(e+1).toString()})):Array.from({length:t},(function(t,i){return(e+i).toString()}))},confirmFunc:function(){this.choosedVal="".concat(this.pickerValYear,"-").concat(this.pickerValMonth,"-").concat(this.pickerValDay),this.valFunc(this.choosedVal)},handler:function(t){if("month"===t)if(this.pickerValDay="01","02"===this.pickerValMonth)if(this.isLeapYear(this.pickerValYear))29!==this.dayArr.length&&(this.dayArr=this.autoGeneratorDateStrArray(29));else{var e=Number(this.pickerValDay);28!==this.dayArr.length&&(e>28&&(this.pickerValDay="".concat(28)),this.dayArr=this.autoGeneratorDateStrArray(28))}else this.dayArr=this.getDayArray(this.currentDay,this.pickerValMonth)}}}),K=P,G=Object(l["a"])(K,E,H,!1,null,null,null),B=G.exports,R={__installed:!1,__Vue:null,vm:null,__config:null,install:function(t){this.__installed||(this.__installed=!0,this.__Vue=t,t.prototype.$wheelPicker=R,t.component("wheel-picker",j),t.component("wheel-datepicker",B))},show:function(t){this.vm&&(this.vm.$el.remove(),this.vm=null),R.__config=t||{};var e={},i=R.__config.mode||"picker",a="picker"===i?j:B;Object.keys(R.__config).map((function(t){e[t]=R.__config[t]})),e.value=!0,console.log("propBody:>>",e);var n=document.createElement("div");document.body.appendChild(n),this.vm=new this.__Vue({name:"wheel-picker",el:n,components:{picker:a},render:function(i){return i("picker",{props:e,on:{change:t.cb||R.cb}})}})},cb:function(t){console.log("cb type:>>"+t)}},N=R;a["a"].config.productionTip=!1,a["a"].use(N),new a["a"]({render:function(t){return t(u)}}).$mount("#app")},"85ec":function(t,e,i){},a416:function(t,e,i){"use strict";var a=i("032c"),n=i.n(a);n.a},ebf2:function(t,e,i){"use strict";var a=i("03a4"),n=i.n(a);n.a}});
//# sourceMappingURL=app.1c60b065.js.map